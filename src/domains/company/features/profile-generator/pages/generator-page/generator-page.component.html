<!-- Generator Page Content -->
<div class="page-container">
  <div class="generator-card">
    <div class="card-header">
      <h1 class="title">Traintiq</h1>
      <p class="subtitle">Profile Generator</p>
    </div>

    <div class="form-content">
      <!-- Company URL Input -->
      <mat-form-field appearance="outline">
        <mat-label>Company Website URL*</mat-label>
        <input matInput 
               [(ngModel)]="companyUrl" 
               placeholder="e.g., https://www.example.com" 
               [disabled]="isLoading"
               #urlInput="ngModel"
               required
               pattern="^https?://.*">
        <mat-icon matPrefix>language</mat-icon>
        <button *ngIf="companyUrl" 
                matSuffix 
                mat-icon-button 
                aria-label="Clear" 
                (click)="companyUrl=''"
                [disabled]="isLoading">
          <mat-icon>close</mat-icon>
        </button>
        <mat-hint>Enter the full URL of the company's official website</mat-hint>
        <mat-error *ngIf="urlInput.errors?.['required']">URL is required</mat-error>
        <mat-error *ngIf="urlInput.errors?.['pattern']">Please enter a valid URL starting with http:// or https://</mat-error>
      </mat-form-field>

      <!-- Custom Instructions -->
      <mat-form-field appearance="outline">
        <mat-label>Custom Instructions</mat-label>
        <textarea matInput
                  [(ngModel)]="customInstructions"
                  rows="4"
                  placeholder="Add specific instructions to customize the profile generation..."
                  [disabled]="isLoading"></textarea>
        <mat-icon matPrefix>edit_note</mat-icon>
        <mat-hint>
          <mat-icon class="hint-icon">info</mat-icon>
          Optional: Provide specific details you'd like to focus on
        </mat-hint>
      </mat-form-field>

      <!-- Button Container -->
      <div class="button-container">
        <button mat-flat-button
                class="generate-btn"
                (click)="generateProfile()"
                [disabled]="isLoading || !companyUrl.trim() || urlInput.invalid">
          <mat-icon>auto_awesome</mat-icon>
          Generate Profile
        </button>

        <button mat-stroked-button
                class="reset-btn"
                (click)="resetForm()"
                [disabled]="isLoading">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>
      </div>

      <!-- Loading Container -->
      <div class="loading-container" *ngIf="isLoading">
        <div class="progress-bar">
          <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
        <div class="loading-text">
          Generating Profile
          <span class="dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>